{% extends 'webInventory/base.html' %}

{% block title %}Item Details{% endblock title %}

{% block header %}
        {% load static %}
             <link href="{% static 'webInventory/css/tagify.css' %}" rel="stylesheet" type="text/css">
             <script src="{% static 'webInventory/js/tagify.min.js' %}"></script>
             <link href="{% static 'webInventory/css/itemData.css' %}" rel="stylesheet" type="text/css">
             <script src="{% static 'webInventory/js/itemDetails.js' %}"></script>

{% endblock header %}



{% block content %}
    <div class="col-sm-12">

    </div>
    <div class="row justify-content-center">
        <div class="col-sm-10">
            <div class="card">
                <div class="card-body">
                    <form method="POST">
                    {% csrf_token %}
                    Name: <span>{{ item.name }}</span><br>
                    Description: <span>{{ item.description }}</span><br>
                    Price: <span>{{ item.price }}</span><br>
                    Quantity: <span>{{ item.quantity }}</span><br>
                    Min. Quantity: <span>{{ item.minQuantity }}</span><br>
                    SKU: <span>{{ item.sku }}</span><br>
                    Barcode: <span>{{ item.barcode }}</span><br>
                    Created Date: <span>{{ item.created_on }}</span><br>
                    Tags:
                        <textarea name="itemTags" id="itemTags" class="itemTags customLook">
                        {% for tag in itemTags %}
                            {{ tag }},
                        {% endfor %}
                        </textarea>
                        <button type="submit" class="btn btn-add submit">Send POST</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script>
        var textarea = document.getElementById('itemTags')
        const method = 'GET'
        const url = 'tags/'

        $.ajax({
            type: method,
            url: url,
            success: function(data) {
                console.log('Success')
                var tagify = new Tagify(textarea, {
                enforceWhiteList: true,
                whitelist: data['tags']
                })
            }
        });

    </script>
{% endblock content %}